{% extends 'base.html' %}
{% load static %}
{% block center %}
<div class="flow-header">
    <div class="flow-header-main">
        <h1 class='title'>{% block title %}{{ title }}{% endblock title %} da {{ family.get_nome_familia }}</h1>
        <a class='edit-flow' href="{% url 'edit_flow' id %}">
            <i class="fas fa-edit"></i>
        </a>
    </div>
    <div>
        <button class="btn btn-primary btn-timeline" onclick="redirect('{% url 'edit_conections' family.id %}')">
            <i class="fa-solid fa-shuffle"></i>
            Editar Conexões
        </button>
        <button class="btn btn-primary btn-timeline" onclick="redirect('{% url 'timeline' family.id %}')">
            <i class="fa-solid fa-timeline"></i>
            Timeline
        </button>
    </div>
</div>

<div class="sandbox"
     id="sandbox"
     data-subsystems="{{ json_subsystems }}">
    {% for subsystem in subsystems %}
        <div class='subsystem-block' 
             id="block{{ forloop.counter }}" 
             data-name="{{ subsystem.nome_subsistema }}" 
             onclick="redirect('{% url 'subsystem_panel' family.id subsystem.id %}')">
            {{ subsystem.nome_subsistema }}
            <img src="{% static 'img/fotos_subsistemas/default.png' %}" 
                 alt="imagem aleatória" 
                 width='200' height='100' 
                 class="subsystem-image">
        </div>
    {% endfor %}
</div>

{% endblock %}